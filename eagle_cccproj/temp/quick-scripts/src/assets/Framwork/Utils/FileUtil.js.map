{"version":3,"sources":["assets/Framwork/Utils/FileUtil.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nexport class FileUtil {\r\n\r\n    private _jsb_fileutil: any;\r\n\r\n    constructor() {\r\n        this._jsb_fileutil = jsb.fileUtils;\r\n        if (!this._jsb_fileutil)\r\n            console.error('Inner delegate is undefined.');\r\n        console.log(this._jsb_fileutil.toString());\r\n    }\r\n\r\n    private static _instance: FileUtil = null;\r\n    public static get instance(): FileUtil {\r\n        if (!this._instance)\r\n            this._instance = new FileUtil();\r\n        return this._instance;\r\n    }\r\n\r\n    /**\r\n     * 获取可写路径\r\n     */\r\n    public getWritableUrl(): string {\r\n        return this._jsb_fileutil.getWritablePath();\r\n    }\r\n\r\n    /**\r\n     * 获取默认资源根目录\r\n     * @return 一般同 getWritableUrl\r\n     */\r\n    public getDefaultResourceRootPath(): string {\r\n        return this._jsb_fileutil.getDefaultResourceRootPath();\r\n    }\r\n\r\n    /**\r\n     * 创建目录\r\n     * @param dir 目录路径\r\n     */\r\n    public createDirectory(dir: string): boolean {\r\n        if (this.isDirectoryExist(dir))\r\n            return true;\r\n\r\n        return this._jsb_fileutil.createDirectory(dir);\r\n    }\r\n\r\n    /**\r\n     * 返回目录是否存在\r\n     * @param dir 目录\r\n     */\r\n    public isDirectoryExist(dir: string) {\r\n        return this._jsb_fileutil.isDirectoryExist(dir);\r\n    }\r\n\r\n    /**\r\n     * 返回文件是否存在\r\n     * @param path 文件路径\r\n     */\r\n    public isFileExist(path: string) {\r\n        return this._jsb_fileutil.isFileExist(path);\r\n    }\r\n\r\n    /**\r\n     * 将字符串写入文件（复位）\r\n     * @param str 写入字符串\r\n     * @param path 文件路径\r\n     */\r\n    public writeStringToFile(str: string, path: string): boolean {\r\n        return this._jsb_fileutil.writeStringToFile(str, path);\r\n    }\r\n\r\n    /**\r\n     * 将对象写入文件（复位）\r\n     * @param obj 写入对象\r\n     * @param path 文件路径\r\n     */\r\n    public writeToFile(obj: Object, path: string): boolean {\r\n        return this._jsb_fileutil.writeToFile(obj, path);\r\n    }\r\n\r\n    /**\r\n     * 获取文件内容\r\n     * @param path 文件路径\r\n     */\r\n    public getValueMapFromFile(path: string): Object {\r\n        return this._jsb_fileutil.getValueMapFromFile(path);\r\n    }\r\n\r\n    /**\r\n     * 获取文件内容（字符串）\r\n     * @param path 文件路径\r\n     */\r\n    public getStringFromFile(path: string): string {\r\n        return this._jsb_fileutil.getStringFromFile(path);\r\n    }\r\n\r\n    /**\r\n     * 获取文件所在目录\r\n     * @param path 文件路径\r\n     */\r\n    public getFileDir(path: string): string {\r\n        return this._jsb_fileutil.getFileDir(path);\r\n    }\r\n\r\n    public normalizePath(path: string): string {\r\n        return this._jsb_fileutil.normalizePath(path);\r\n    }\r\n\r\n    public loadFilenameLookupDictionaryFromFile(path: string) {\r\n        this._jsb_fileutil.loadFilenameLookupDictionaryFromFile(path);\r\n    }\r\n\r\n    /**\r\n     * 移除目录（以及目录下所有文件）\r\n     * @param dir 目录\r\n     */\r\n    public removeDirectory(dir: string): boolean {\r\n        return this._jsb_fileutil.removeDirectory(dir);\r\n    }\r\n\r\n    /**\r\n     * 移除文件\r\n     * @param path 文件路径\r\n     */\r\n    public removeFile(path: string): boolean {\r\n        return this._jsb_fileutil.removeFile(path);\r\n    }\r\n\r\n    /**\r\n     * 获取文件大小\r\n     * @param path 文件路径\r\n     */\r\n    public getFileSize(path: string): number {\r\n        return this._jsb_fileutil.getFileSize(path);\r\n    }\r\n\r\n    /**\r\n     * 列出目录所有文件\r\n     * @param dir 目录\r\n     */\r\n    public listFiles(dir: string): string[] {\r\n        return this._jsb_fileutil.listFiles(dir);\r\n    }\r\n\r\n    public getSuitableFOpen(path: string): string {\r\n        return this._jsb_fileutil.getSuitableFOpen(path);\r\n    }\r\n\r\n    public setWritablePath(path: string) {\r\n        return this._jsb_fileutil.setWritablePath(path);\r\n    }\r\n\r\n}"]}